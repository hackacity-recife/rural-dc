@import models.classes.enums.UF
@import models.utils.MathUtil
<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>Favela Vive - Analytics</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <!--[if lt IE 9]>
        <script src='https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js'></script>
        <script src='https://oss.maxcdn.com/respond/1.4.2/respond.min.js'></script>
        <![endif]-->

		<!-- Bootstrap 3.3.6 -->
		<link href="@routes.Assets.versioned("assets/admin/AdminLTE-2.3.11/bootstrap/css/bootstrap.min.css")" rel="stylesheet">
		<link href="@routes.Assets.versioned("assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css")" rel="stylesheet">
		<link rel="stylesheet" href="@routes.Assets.versioned("assets/admin/AdminLTE-2.3.11/dist/css/AdminLTE.min.css")">
		<link rel="stylesheet" href="@routes.Assets.versioned("assets/admin/AdminLTE-2.3.11/dist/css/skins/skin-yellow.min.css")">
        <link href="@routes.Assets.versioned("assets/css/jquery-ui.min.css")" rel="stylesheet">
    </head>
    <body class="skin-yellow sidebar-collapse sidebar-mini">        
        <!-- wrapper -->
	    <div class="wrapper" style="height: auto;">
	      @header()
	      @menu()
	      
	      <div class="content-wrapper" style="min-height: 921px;">
		      <section class="content-header">
			  	<h1>Sobre Pintura em Recife - PE</h1>
			  </section>
			  
			  <section class="content">
			  	<div class="row">
			  		<div class="col-sm-9">
						<div class="box box-default">
	             			<div class="box-body">
	             				<div id="chart"></div>
	             			</div>
				  		</div>
			    	</div>
			    	<div class="col-sm-3">
						<div class="box box-default">
							<div class="box-header">
								Ranking de Atividades
							</div>
	             			<div class="box-body no-padding">
	             				<table class="table table-striped table-hover">
		             				<tbody>
		             					<tr>
		             						<th style="width: 10px">#</th>
		             						<th>Categorias</th>
		             						<th>Tipo</th>
		             						<th>Contribuintes</th>
		             					</tr>
		             					<tr>
		             						<td>1.</td>
		             						<td><a>Pintura</a></td>
		             						<td><a>Tarefa</a></td>
		             						<td>132</td>
		             					</tr>
		             					<tr>
		             						<td>2.</td>
		             						<td><a>Construção</a></td>
		             						<td><a>Tarefa</a></td>
		             						<td>117</td>
		             					</tr>
		             					<tr>
		             						<td>3.</td>
		             						<td><a>Eletricista</a></td>
		             						<td><a>Tarefa</a></td>
		             						<td>83</td>
		             					</tr>
		             					<tr>
		             						<td>4.</td>
		             						<td><a>Futebol</a></td>
		             						<td><a>Evento</a></td>
		             						<td>78</td>
		             					</tr>
		             					<tr>
		             						<td>5.</td>
		             						<td><a>Encanador</a></td>
		             						<td><a>Tarefa</a></td>
		             						<td>56</td>
		             					</tr>
		             				</tbody>
		             			</table>
	             			</div>
				  		</div>
			    	</div>
			  	</div>
		      	
		      	<div class="row">
			      	<div class="col-sm-9">
				      <div class="box">
					  	<div class="box-header with-border">
					      <h3 class="box-title">Sobre Pintura por idade</h3>
					    </div>
					    <!-- /.box-header -->
						<div class="box-body box-profile">
					      <div id="agechart" style="width: 100%; height: 500px;"></div>
				        </div>
				        <!-- /.info-box-content -->
				      </div>
				      <!-- /.box -->
				    </div>
				</div>
		      	
		      	<div class="row">
			      	<div class="col-sm-9">
				      <div class="box">
					  	<div class="box-header with-border">
					      <h3 class="box-title">Sobre Pintura por estado</h3>
					    </div>
					    <!-- /.box-header -->
						<div class="box-body box-profile">
					      <div id="mapdiv" style="width: 100%; height: 500px;"></div>
				        </div>
				        <!-- /.info-box-content -->
				      </div>
				      <!-- /.box -->
				    </div>

					<div class="col-sm-3">
						<div class="box box-default">
							<div class="box-header">
								Ranking de Estados
							</div>
	             			<div class="box-body no-padding">
	             				<table class="table table-striped table-hover">
		             				<tbody>
		             					<tr>
		             						<th style="width: 10px">#</th>
		             						<th>Estado</th>
		             						<th>Contribuintes</th>
		             					</tr>
		             					<tr>
		             						<td>1.</td>
		             						<td><a>Pernambuco</a></td>
		             						<td>732</td>
		             					</tr>
		             					<tr>
		             						<td>2.</td>
		             						<td><a>São Paulo</a></td>
		             						<td>711</td>
		             					</tr>
		             					<tr>
		             						<td>3.</td>
		             						<td><a>Ceará</a></td>
		             						<td>704</td>
		             					</tr>
		             					<tr>
		             						<td>4.</td>
		             						<td><a>Rio de Janeiro</a></td>
		             						<td>695</td>
		             					</tr>
		             					<tr>
		             						<td>5.</td>
		             						<td><a>Minas Gerais</a></td>
		             						<td>688</td>
		             					</tr>
		             				</tbody>
		             			</table>
	             			</div>
				  		</div>
			    	</div>
			      </div>
		      </section>
	      </div>
	    </div>
	    <!-- //wrapper -->
        
        <!-- Footer -->
	    @footer()
	    <!-- //Footer -->
	
		<!-- jQuery 2.2.3 -->
		<script src="@routes.Assets.versioned("assets/admin/AdminLTE-2.3.11/plugins/jQuery/jquery-2.2.3.min.js")"></script>
		<script src="@routes.Assets.versioned("assets/js/jquery-ui.min.js")"></script>
		<!-- Bootstrap 3.3.6 -->
		<script src="@routes.Assets.versioned("assets/js/bootstrap.min.js")"></script>
		<!-- FastClick -->
		<script src="@routes.Assets.versioned("assets/admin/AdminLTE-2.3.11/plugins/fastclick/fastclick.js")"></script>
		<!-- AdminLTE App -->
		<script src="@routes.Assets.versioned("assets/admin/AdminLTE-2.3.11/dist/js/app.min.js")"></script>
		<script src="@routes.Assets.versioned("assets/js/highcharts.js")"></script>
		
		<script src="@routes.Assets.versioned("assets/ammap/ammap.js")" type="text/javascript"></script>
		<script src="@routes.Assets.versioned("assets/ammap/maps/js/brazilLow.js")" type="text/javascript"></script>
		
		<script>
  			$(function () {
  				var xValues = ['Jan','Fev','Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez'];
  				var yValues = [15,8,5,2,1,4,3,1,5,9,14,27];
  				
  				Highcharts.setOptions({
  	    		    lang: {
  	    		    	noData: 'Não há dados',
  	    		        decimalPoint: ',',
  	    		        thousandsSep: '.'
  	    		    }
  	    		});
  	    		
  		    	Highcharts.chart('chart', {    
  		    		chart: {
  		    	        type: 'line'
  		    	    },
  		    		credits: {
  		    			enabled: false
  		    		},
  		            title: {
  		                text: 'Atividades'
  		            },
  		            subtitle: {
  		                text: 'Pintura'
  		            },
  		            colors: ['#f39c12'],
  		            tooltip: {
  		                pointFormat: "{point.y}"
  		            },
  		            yAxis: {
  		                title: {
  		                    text: 'Ocorrências'
  		                },
  		            },
  		            xAxis: {
  		                categories: (xValues == null || xValues.lenght == 0? null : xValues),
  		            },
  		            series: [{
  		                name: 'Total por mês',
  		                data: (yValues == null || yValues.lenght == 0? null : yValues)
  		            }]
  		        });
  			});
  		</script>
  		<script>
			var map;
			AmCharts.ready(function() {
			    map = new AmCharts.AmMap();
			    var dataProvider = {
			        mapVar: AmCharts.maps.brazilLow,
			        areas: [
			        @for(province <- UF.values()){
			        	{id:'BR-@province',value:@MathUtil.random(121,732)},
			        }
			        ]
			    };
			    map.areasSettings = {
			        autoZoom: true,
			        balloonText: "<span style='font-size:16px;'>[[title]]: <strong>[[value]]</strong></span>",

    				color: "#f39c12",	   // cor min 
    				colorSolid: "#e17507", // cor max
    				outlineColor: "#FFFFFF",
					selectedColor: "#7cb5ec",
    				rollOverColor: "#7cb5ec",
    				rollOverOutlineColor: "#FFFFFF",
			    };
			    map.dataProvider = dataProvider;
			    var valueLegend = new AmCharts.ValueLegend();
			    valueLegend.right = 10;
			    valueLegend.minValue = "121";
			    valueLegend.maxValue = "732";
			    map.valueLegend = valueLegend;
			    map.write("mapdiv");
			    
			    $('#mapdiv a').remove();
			});
		</script>
  		<script>
  		// Age categories
  		var categories = [
  		    '- 4', '5-9', '10-14', '15-19',
  		    '20-24', '25-29', '30-34', '35-39', '40-44',
  		    '45-49', '50-54', '55-59', '60-64', '65-69',
  		    '70-74', '75-79', '80-84', '85 +'
  		];
  		Highcharts.theme = {
  			    colors: ['#7cb5ec', '#f39c12', '#90ee7e', '#7798BF', '#aaeeee', '#ff0066',
  			        '#eeaaee', '#55BF3B', '#DF5353', '#7798BF', '#aaeeee']
  		}
  		Highcharts.setOptions(Highcharts.theme);
  		Highcharts.chart('agechart', {
  		    chart: {
  		        type: 'bar'
  		    },
  		    title: {
  		        text: 'Pintura por Idade'
  		    },
  		    subtitle: {
  		        text: ''
  		    },
  		    xAxis: [{
  		        categories: categories,
  		        reversed: false,
  		        labels: {
  		            step: 1
  		        }
  		    }, { // mirror axis on right side
  		        opposite: true,
  		        reversed: false,
  		        categories: categories,
  		        linkedTo: 0,
  		        labels: {
  		            step: 1
  		        }
  		    }],
  		    yAxis: {
  		        title: {
  		            text: null
  		        },
  		        labels: {
  		            formatter: function () {
  		                return Math.abs(this.value) + '%';
  		            }
  		        }
  		    },

  		    plotOptions: {
  		        series: {
  		            stacking: 'normal'
  		        }
  		    },

  		    tooltip: {
  		        formatter: function () {
  		            return '<b>' + this.series.name + ', age ' + this.point.category + '</b><br/>' +
  		                'Population: ' + Highcharts.numberFormat(Math.abs(this.point.y), 0);
  		        }
  		    },

  		    series: [{
  		        name: 'Masculino',
  		        data: [
  		            0, 0, -1.2, -1.8,
  		            -2.7, -3.1, -3.0, -1.7,
  		            -1.5, -1.2, -1.1, -0.8,
  		            -0.6, -0, -0, -0,
  		            0, 0
  		        ]
  		    }, {
  		        name: 'Feminino',
  		        data: [
  		        	0, 0, 0.9, 1.2,
  		            1.7, 1.9, 2.2, 1.5,
  		            1.2, 1.0, 0.7, 0.4,
  		            0.1, 0, 0, 0,
  		            0, 0
  		        ]
  		    }]
  		});
		</script>
    </body>
</html>
